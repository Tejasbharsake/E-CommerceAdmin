@model IEnumerable<GSTECommerceLibrary.Admin.Admin>

@{
    ViewBag.Title = "_TotalOrdersANB";
}

<!-- Export Buttons Row -->
<div class="row mb-3">
    <div class="col-12 d-flex gap-2 justify-content-end">
        <button class="btn btn-outline-primary btn-sm" id="copyBtnTotalOrders" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Copy to clipboard">
            <img src="~/Content/Document/Image/Copy.png" alt="Copy" width="16" height="16" />
        </button>
        <button class="btn btn-outline-info btn-sm" id="csvBtnTotalOrders" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Export as CSV file">
            <img src="~/Content/Document/Image/CSV.png" alt="CSV" width="16" height="16" />
        </button>
        <button class="btn btn-outline-success btn-sm" id="excelBtnTotalOrders" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Export as Excel file">
            <img src="~/Content/Document/Image/XLS.png" alt="Excel" width="16" height="16" />
        </button>
        <button class="btn btn-outline-danger btn-sm" id="pdfBtnTotalOrders" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Export as PDF file">
            <img src="~/Content/Document/Image/PDFicon.png" alt="PDF" width="16" height="16" />
        </button>
        <button class="btn btn-outline-dark btn-sm" id="printBtnTotalOrders" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Print">
            <img src="~/Content/Document/Image/Print.png" alt="Print" width="16" height="16" />
        </button>
    </div>
</div>

<div class="card-body">
    @if (Model != null && Model.Any())
    {
        <div class="table-responsive">
            <table id="totalOrdersTable" class="table table-striped table-bordered align-middle">
                <thead class="table-dark">
                    <tr>
                        <th><input type="checkbox" id="selectAllTotalOrders" /></th>
                        <th>Sr No</th>
                        <th>Order Code</th>
                        <th>Customer Name</th>
                        <th>Product Name</th>
                        <th>Quantity</th>
                        <th>Product MRP (₹)</th>
                        <th>Actual Price (₹)</th>
                        <th>Status</th>
                        <th>Order Date</th>
                    </tr>
                </thead>
                <tbody>
                    @{ var srNo = 1; }
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td><input type="checkbox" class="row-checkbox" value="@srNo" /></td>
                            <td>@srNo</td>
                            <td>@(item.OrderCode ?? "N/A")</td>
                            <td>@(item.CustomerName ?? "N/A")</td>
                            <td>@(item.ProductName ?? "N/A")</td>
                            <td>@item.Quantity</td>
                            <td>@item.ProductMRP</td>
                            <td>@item.ActualProductPrice</td>
                            <td>@item.Status</td>
                            <td>
                                @(item.OrderDate != DateTime.MinValue
                                        ? item.OrderDate.ToString("dd-MM-yyyy", System.Globalization.CultureInfo.InvariantCulture)
                                        : "N/A")
                            </td>
                        </tr>
                        srNo++;
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="alert alert-warning mb-0">No orders found.</div>
    }
</div>

<style>
    #totalOrdersTable thead th {
        background-color: #2C3E50;
        color: #FFFFFF;
        font-weight: 600;
        text-align: center;
        padding: 5px;
        border-bottom: 2px solid #ddd;
        font-size: 14px;
        height: 8px !important;
        font-family: 'Poppins', sans-serif;
        vertical-align: middle;
    }

    #totalOrdersTable tbody td {
        padding: 2px 5px !important;
        height: 5px !important;
        line-height: 1;
        font-size: 13px;
        text-align: center;
        font-family: 'Poppins', sans-serif;
        vertical-align: middle;
    }

    #totalOrdersTable .pagination .page-link {
        padding: 2px 10px;
        font-size: 12px;
        min-width: 33px;
    }

    .card-header .btn-sm {
        padding: 0.25rem 0.4rem;
        margin-left: 0.5rem;
    }

    .card-header .d-flex {
        flex-wrap: nowrap;
    }

    .selected-row {
        background-color: #e3f2fd !important;
    }

    #selectAllTotalOrders, .row-checkbox {
        cursor: pointer;
    }

    @@media (max-width: 576px) {
        .card-header .d-flex {
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .card-header .btn-sm {
            margin-left: 0.25rem;
        }
    }
</style>

<script>
    $(document).ready(function () {
        // Initialize tooltips for export buttons
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        tooltipTriggerList.forEach(function (tooltipTriggerEl) {
            new bootstrap.Tooltip(tooltipTriggerEl);
        });
    });
</script>